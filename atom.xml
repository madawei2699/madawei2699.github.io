<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Dawei Ma&#39;s Notes</title>
  
  
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://mdw.one/"/>
  <updated>2019-02-20T15:59:52.810Z</updated>
  <id>http://mdw.one/</id>
  
  <author>
    <name>Dawei Ma</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>优惠券项目小结</title>
    <link href="http://mdw.one/2019/02/20/20190220/"/>
    <id>http://mdw.one/2019/02/20/20190220/</id>
    <published>2019-02-20T14:39:03.000Z</published>
    <updated>2019-02-20T15:59:52.810Z</updated>
    
    <content type="html"><![CDATA[<p>大概在半年前我参加了一个国外优惠券聚合平台的项目，项目背景简单介绍下：网站聚合展示很多品牌的最新优惠券，用户可以在里面查看及搜索不同品牌的最新优惠券，优惠券分为两类，用户点击后有展示优惠码的，也有点击后跳转到品牌折扣页的，通过Google相应品牌折扣关键词引流。网站的优惠券来源于两类渠道，一类是Aff网盟平台，我们网站对接了三个平台，包括shareasale、linkshare、CJ。另一类是社交平台，主要是Twitter平台。第一类平台通过接口对接拉取数据自动入库上架至我们网站，人工主要在这几个网盟平台申请各品牌的优惠券offer即可。对于网盟平台的优惠券offer，用户点击优惠券跳转到品牌官网后购买此商品我们有佣金提成，不同商品的提成佣金率不同。第二类如Twitter平台的优惠券没有提成，不过量特别大，可以扩充我们的优惠券数量，也可以提高我们网站的页面数量和Google收录页面。</p><p>一开始我们网站只是对接了三个网盟平台，此时网站的第一版本已经上线，优惠券数量大概有三万个有效的，品牌页为三千个，我们网站的设计是以品牌页为聚合的，也就是第一版网站只有大概三千多个页面，为了提高Google的收录页面，我们开始做SEO优化，基本的SEO优化有网站Html优化、Sitemap、Title、Keywords、Description、Meta、品牌索引页面、长尾词建设、外链建设、url优化、站内搜索等。外链建设在短时间内就做到了上万个以上了，长尾词也做到了七八千个，所以页面暴增到了一万二左右，长尾词页面内也做了SEO优化，包括相似长尾词推荐，相似品牌推荐等。当时日志监控观察到Google爬虫每日爬取频率变高，收录也到了两三千，有一些品牌词已经有了排名，一切都在向好的方向发展。这其中有个隐患是我们当时上线时没有预料到的，也为项目以后出现问题埋了一个雷，就是我们刚上线时用的是一个新的普通的域名，但是项目组因为某些原因得到了一个大概有10年历史的老域名，这个老域名自己有一些外链可以带来一些流量，应该是之前做过一些网站导致外链带来的量，本以为这个老域名可以带来不错的收录权重，所以就在上线一周后立即切换成这个老域名了，现在网站已经有两个版本了，一个是老版本新域名，一个是新版本老域名（自带流量），因为项目组人力有限，就主要给这个老域名的网站上加新功能，之前的新域名就没人维护暂时通过robots屏蔽爬虫放置了一段时间。</p><p>很快我们发现了问题所在，Google在收录页面的时候一直有问题，先是缓存一直404，然后我们网站加载速度很慢，在google page speed测速里面评分在60分左右，所以我们花了一周时间去给网站提速，加了CDN，优化了网站渲染的代码逻辑，简化前端JS和CSS文件大小，优化图片大小等，然后网站速度得到了提升，加载可以在2秒内完成，服务器响应时间控制在了200ms内，但是Google的缓存页面一直有问题，最后SEO们排查说这是Google的问题，而且Google官方也说这是Google内部服务器的问题，只要索引正常就没问题，当时我们也就没管这个问题。不过始终困扰我们的问题是Google的收录页面一直不稳定，早上是几百个，下午又变成几千个了，而且Google带来的SEO流量一天也徘徊在几十个左右。</p><p>项目第二期着重提高Google收录页面，当时SEO们认为是网页相似度太高了，所以我们花了一两周时间去研究是不是我们网站的内容太相似了，所以对于可能相似的页面做了一些随机差异化处理，让网站的某一部分每次刷新都随机，虽然这种方式对爬虫不太优化，但是可以确保网页的相似度变低，我写了一个python的程序去检查我们全站的上万个页面，先用爬虫爬取了两天时间爬取到页面然后自动去渲染截图下来，然后从html里抽取出文本，对文本计算余弦相似度，最后随机筛选出一千个页面，两两比较相似度画对比图，发现全站的相似度并不高，而且竞品的网站的相似度和我们差距也不是很大，因为大家数据都是从网盟平台拿到的，所以数据应该是差不多的。然后Google的缓存终于正常了，不过显示的却是移动端的界面，这其实很奇怪，因为Google有两个版本的bot，一个是移动端，一个是PC端，我们网站会通过UA检测给与不同模板的html代码，只是Google最终给的是移动端的缓存版本，移动端缓存版本显示还不正常，最后排查是前端的一个组件是用了某个Google不兼容的技术导致的，最终把这个问题fix后，又是一周时间去观察，收录还是不正常。</p><p>第三期还是解决收录不正常的问题，然后我们把问题聚焦在了内容上，因为内容都是从网盟拉取过来的接口数据，所以差异化和竞品差不多，为了提高网站的内容，我们选择了爬取社交网站的信息来生成优惠券，因为很多品牌会在设交站发布自家品牌的优惠券信息，所以我们调研后确定爬取Twitter的推文，我搭建了一个Twitter的分布式爬虫系统，定时每秒去Twitter里搜索优惠券相关的关键词，然后爬取相关推文入库，然后后台有个python程序每天定时去库里拿到前一天爬取到的推文，经过算法处理后生成了优惠券格式的信息，另外一个脚本任务会自动把这些生成的信息经过去重后发布到我们网站里。加入了Twitter的优惠券后，我们的优惠券数量很快就翻倍了，页面也达到了七八万的规模。因为之前我们分析认为长尾词页面过多了，所以停掉了长尾词页面，外链也开始不断减少，但是此时收录还是不稳定，此时bing的收录页面都上两万了，但是Google的还在两三千徘徊，很不稳定，有时候下午是一万六，早上又变成两千了。和竞品相比，实在是很诡异。</p><p>最终我们认为问题大概率出在了域名上，因为不断的排查测试都没有解决问题，就是域名一直没有去测试，因为域名换了后很多工作都白做了，但是我们又想去测试是不是域名导致的问题，所以又把之前的新域名启用了，在之前的新域名做了一个简化版的优惠券系统，用来和老域名这个网站做对比，观察了一段时间后，之前新域名的系统收录也出问题了，SEO们认为是之前我们在发布系统的时候两个域名曾经发生过关联，可能会被Google检测出来，然后这法子就行不通，此时我们又准备去启用一个域名去测试，同时制定了一个建设一个流量站去给优惠券平台导流的计划。不过所有的这一切都没来得及去做，公司最终以项目时间过长为由停掉了开发新功能的计划，只是把网站放着等待收录正常。</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;大概在半年前我参加了一个国外优惠券聚合平台的项目，项目背景简单介绍下：网站聚合展示很多品牌的最新优惠券，用户可以在里面查看及搜索不同品牌的最新优惠券，优惠券分为两类，用户点击后有展示优惠码的，也有点击后跳转到品牌折扣页的，通过Google相应品牌折扣关键词引流。网站的优惠券
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>打造优雅高效的写作环境</title>
    <link href="http://mdw.one/2016/02/01/20160201/"/>
    <id>http://mdw.one/2016/02/01/20160201/</id>
    <published>2016-02-01T04:22:16.000Z</published>
    <updated>2019-01-02T10:26:09.385Z</updated>
    
    <content type="html"><![CDATA[<h3 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h3><p>写作是一件很有趣的事情，长期形成良好的写作习惯可以帮助我们有条理的处理解决问题，同时给人生留下点回忆也不错。在我们很小的时候也许就有记日记的习惯，大脑的记忆量毕竟很有限，所以我们用纸和笔来记东西，但是传统的纸和笔存在很大的问题，无法长久的保存东西。进入互联网时代后我们有了很多选择，各类网站博客、专栏、微博、公众号等可以让我们写作的地方，但是这些都无法解决以下几个问题。</p><ol><li>排版。编辑器不支持Markdown语法。每次看到那种糟糕的排版都让人没有看的欲望了。很多宝贵的时间都浪费到排版上了。</li><li>版本管理。如果有多个版本常规的博客只能你自己来保存了，一旦出错就很难回到之前的版本了。</li><li>难以长期保存。诸如网站关闭或者电脑损坏丢失都会导致之前的资料丢失，资料很难长期保存。</li><li>网站难看。很多网站博客只提供一些难看的主题，你很难定制好看的主题，大部分这些难看的主题对移动终端还不友好。</li><li>文章发布流程繁琐。很多网站的编辑写作界面都很糟糕，发布起来还很麻烦，如果能通过简单的命令就可以发布上去是多么优雅的事情。</li><li>不支持自定义域名。难以个性化的域名很难体现个人的品牌。</li><li>受限的写作环境。一些网站为了通过政府部门的内容审查，你写的内容很可能不经意被强制删除，总之在别人的地盘上你的东西不一定是你的。</li></ol><p>以上就是可能存在的几个问题，我理想的写作环境应该是可以解决上述几个问题的，下面我通过几步来打造一个专属于我们自己的优雅的写作发布环境。</p><h3 id="环境搭建"><a href="#环境搭建" class="headerlink" title="环境搭建"></a>环境搭建</h3><h4 id="博客系统（Hexo）-amp-主题（Next）"><a href="#博客系统（Hexo）-amp-主题（Next）" class="headerlink" title="博客系统（Hexo） &amp; 主题（Next）"></a>博客系统（Hexo） &amp; 主题（Next）</h4><p>首先我们需要一个博客系统，目前市场上存在很多完整的博客系统：如Wordpress或一些CMS系统等，但是这些系统都太大，很臃肿。我们需要一个轻量级别的博客系统，并且能配合GitHub Pages来管理我们的文章及相关信息。Hexo就是一个满足我们需求的博客系统。<br>在Mac下通过命令行安装：<br><figure class="highlight mipsasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">npm <span class="keyword">install </span>hexo-cli -g</span><br><span class="line">hexo init <span class="keyword">blog</span></span><br><span class="line"><span class="keyword">cd </span><span class="keyword">blog</span></span><br><span class="line"><span class="keyword">npm </span><span class="keyword">install</span></span><br><span class="line"><span class="keyword">hexo </span>server</span><br></pre></td></tr></table></figure></p><blockquote><p>如果是Windows或者Linux系统也可以通过如下命令来安装，Windows系统需要提前安装好NPM软件包，安装流程可以通过Google或者官方文档来查看。</p></blockquote><p>这时候你已经部署好了Hexo博客系统，并且初始化好了博客系统所需的文件，blog就是你的博客根目录。这时候我们需要安装一款名为Next的主题，这个主题也是本博客目前使用的主题，你也可以选择你自己喜欢的主题。Next主题很强大，响应式设计并且支持很多第三方服务的特性，这个大家可以通过官网<a href="http://theme-next.iissnan.com/five-minutes-setup.html" title="[external]" target="_blank" rel="noopener">Hexo</a>来查看。</p><p>经过Next主题官方文档的指导后，相信你已经配置好了该主题。那目前我们已经完成了博客系统和主题的配置，接下来需要把博客系统发布到互联网上，这样所有人就可以来访问我们的博客了。</p><h4 id="系统部署（GitHub-Pages）"><a href="#系统部署（GitHub-Pages）" class="headerlink" title="系统部署（GitHub Pages）"></a>系统部署（GitHub Pages）</h4><p>如果是传统的个人博客的话，一般需要租一台在线的VPS系统或者空间来存放我们的软件，但是这样你需要操心很多事情了，不仅需要自己维护服务器，还需要每月付费供养服务器，比较麻烦。我们有更好更优雅的方式，就是通过GitHub Pages来存放我们的博客系统。具体安装介绍可以看官网<a href="https://pages.github.com/" title="[external]" target="_blank" rel="noopener">GitHub Pages</a>。</p><p>为什么我们需要GitHub Pages来部署我们的系统，一方面是因为GitHub Pages是免费的，很多服务器的维护都不需要你操心，更重要的一方面是你可以用Git来管理你的博客，通过几条简单的命令就可以发布、回滚之前版本来管理你的博客网站。<br><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git <span class="builtin-name">add</span> --all</span><br><span class="line">~<span class="variable">$git</span> commit -m <span class="string">"Initial commit"</span></span><br><span class="line">~<span class="variable">$git</span> push -u origin master</span><br></pre></td></tr></table></figure><br>上面的命令就是在你的blog目录里面操作的，一旦你注册好了一个GitHub帐号后，在上面建立一个仓库（repository）后，在你计算上设置好SSH Key来打通和GitHub仓库的通道后，你就可以通过上述几条命令来把你本地的代码上传同步到仓库里面去。用人话讲就是，你通过那几条命令把你的网站上传到GitHub的网站上去了。然后你可以访问： <a href="http://username.github.io" target="_blank" rel="noopener">http://username.github.io</a> ，这网址就是你的博客地址，需要把里面的username替换为你的GitHub账户名。</p><h4 id="域名绑定"><a href="#域名绑定" class="headerlink" title="域名绑定"></a>域名绑定</h4><p>毕竟 <a href="http://username.github.io" target="_blank" rel="noopener">http://username.github.io</a> 这种域名无法体现我们对逼格，可以在Godaddy或者万网注册一个域名去，可以以你的名字来注册，一般短的都注册不到了。万网的域名如果托管到阿里云到话需要备案，至于备案流程的话阿里云会有相关的流程帮你做，大概需要半个月之久。备案后我们可以在域名管理里把域名解析到 <a href="http://username.github.io" target="_blank" rel="noopener">http://username.github.io</a> ，如果觉得万网的DNS不好的话可以把DNS解析放到DNSNode上面去，然后在里面设置CNAME子域名。<br><img src="https://img.madawei.net/dnsnode.jpg" alt="dnsnode"><br>然后在blog目录里面的source目录下新建一个CNAME文件，文件内容就是你自己的域名。<br><img src="https://img.madawei.net/cname.jpg" alt="cname"><br>这样你可以直接访问你的域名就可以访问你的博客了。实际上做了一次跳转。</p><h4 id="运营统计"><a href="#运营统计" class="headerlink" title="运营统计"></a>运营统计</h4><p>接下来我们需要对博客和主题进行一些配置，以达到更好的一些效果，比如评论分享（多说）、文章阅读次数（LeanCloud）、文章分类标签、侧边栏的设置、第三方服务的配置（Google Webmaster &amp; Analytics、腾讯站点分析）。这方面可以看Next主题的配置文档。<br>大概说下流程，评论可以在Next主题里面启用多说评论系统（你需要注册一个多说账户），文章阅读次数可以参考这篇<a href="http://notes.xiamo.tk/2015-10-21-%E4%B8%BANexT%E4%B8%BB%E9%A2%98%E6%B7%BB%E5%8A%A0%E6%96%87%E7%AB%A0%E9%98%85%E8%AF%BB%E9%87%8F%E7%BB%9F%E8%AE%A1%E5%8A%9F%E8%83%BD.html" title="[external]" target="_blank" rel="noopener">文章</a>。文章分类标签可以在用Hexo命令来新建分类和标签页面，这个可以参考Hexo官方文档，如果你想对主题CSS等文件进行一些修改后发现并没有效果的话，那可以先清空Hexo数据库和产生的文件。进入blog目录在命令行执行：<br><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">hexo</span> clean <span class="comment">#清空Hexo数据库和产生的文件</span></span><br><span class="line">hexo d -g <span class="comment">#重新产生博客文章并发布到GitHub，前提得在Hexo里配置好GitHub账户</span></span><br></pre></td></tr></table></figure><br>侧边栏得配置可以在Next主题里面配置。第三方服务等都可以参考Next主题的配置文档。这样通过Google的Webmaster你可以把你的站点设置的对搜索引擎更友好，这样别人就可以方便的通过搜索引擎找到你的文章了，提高流量了。同时设置腾讯分析和Google Analytics可以让你很方便的了解网站的流量和访问情况等。腾讯分析可以每天或每周订阅网站统计分析报告。</p><h3 id="写作发布"><a href="#写作发布" class="headerlink" title="写作发布"></a>写作发布</h3><p>搞定了烦人的环境配置后，我们开始了最重要的部分：写作！一切都是为了更优雅的写作。</p><h4 id="Markdown语法"><a href="#Markdown语法" class="headerlink" title="Markdown语法"></a>Markdown语法</h4><p>Hexo博客系统的写作方式很简单，通过Markdown语法来写作。首先让我们新建一个文章吧。<br><figure class="highlight gauss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">hexo <span class="keyword">new</span> <span class="built_in">title</span> <span class="meta">#title是你的写作</span></span><br><span class="line">hexo d -g <span class="meta">#重新产生博客文章并发布到GitHub，前提得在Hexo里配置好GitHub账户</span></span><br></pre></td></tr></table></figure><br>这样在blog/source/_post目录就产生一个title的md文件，这个文件就是我们要写作的，当然有个小麻烦在于你每次敲完命令都需要去找这个文件，我们可以通过以下的设置来让hexo系统自动用软件来给我们打开这个要写作的文件。首先在blog目前新建一个scripts的目录，然后在里面新建一个open-tools.js的文件，文件内容如下：<br><figure class="highlight scilab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">var <span class="built_in">exec</span> = require(<span class="string">'child_process'</span>).<span class="built_in">exec</span>;</span><br><span class="line"><span class="comment">// Hexo 3</span></span><br><span class="line">hexo.on(<span class="string">'new'</span>, <span class="function"><span class="keyword">function</span><span class="params">(data)</span>&#123;</span></span><br><span class="line">    <span class="built_in">exec</span>(<span class="string">'open -a "</span>/Applications/Mou.app<span class="string">" '</span> + data.path);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><br>这个文件的意思就是新建一篇文章后hexo会自动用Mou这个app来打开这个md文件，然后你就可以用Mou这个Markdown编辑软件来写作了。<br>至于Markdown语法怎么搞，网上有很多教程，但是为了直观的给你一个感受，你可以看看我上一篇文章的md文件，然后对比下输出的文章就大概理解Markdown的精髓了。<br>源文件：<a href="https://raw.githubusercontent.com/madawei2699/hexo-myblog/master/source/_posts/20160131.md" title="[external]" target="_blank" rel="noopener">打造优雅高效的Mac工作环境</a><br>输出效果：<a href="http://madawei.net/2016/01/31/20160131/" title="[external]" target="_blank" rel="noopener">打造优雅高效的Mac工作环境</a> </p><h4 id="编辑工具"><a href="#编辑工具" class="headerlink" title="编辑工具"></a>编辑工具</h4><p>目前我用Mou来书写Markdown文件，界面长这样：<br><img src="https://img.madawei.net/mou.png" alt="Mou"></p><h4 id="写作发布流程"><a href="#写作发布流程" class="headerlink" title="写作发布流程"></a>写作发布流程</h4><ol><li>在Mac打开iTerm终端<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> blog</span><br></pre></td></tr></table></figure></li><li>新建文章并用Mou编写文章内容<figure class="highlight gauss"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo <span class="keyword">new</span> <span class="built_in">title</span></span><br></pre></td></tr></table></figure></li><li>发布文章到GitHub Pages<figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">hexo d -g</span></span><br></pre></td></tr></table></figure></li><li>修改文章后继续执行第3步即可重新发布上去</li></ol><h3 id="版本管理"><a href="#版本管理" class="headerlink" title="版本管理"></a>版本管理</h3><p>如果我们想回到某一个写作版本的话也可以很方便的通过GitHub仓库里面进行回滚操作。每次当我们执行hexo d -g命令的时候实际上就是产生一个版本，你可以登陆到GitHub仓库里面看到每次提交的版本，当然这个仓库存放的是已经产生的Html文件，也就是在blog目录里面的public目录，这个目录的所有文件都会被发布到GitHub仓库里面去。但是source/_post目录里面存放的才是你真正的源文件，都是些md文件，那这些文件并没有被GitHub仓库管理，所以为了对这些源文件进行版本管理，你需要在GitHub新建一个仓库用来存放blog目录，blog目录里面有些文件并不需要发布到GitHub，这些不需要的文件你可以在.gitignore（存放在blog根目录下，如果没有你可以新建一个）里面写明，我的这个文件内容如下：<br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">.DS_Store</span><br><span class="line">Thumbs.db</span><br><span class="line">db.json</span><br><span class="line">*.log</span><br><span class="line">node_modules/</span><br><span class="line">public/</span><br><span class="line">.deploy*/</span><br></pre></td></tr></table></figure><br>这里面的node_modules目录里面放着一些node的模块，public目录存放着hexo产生的html文件（也就是你的博客）。当你部署好这个仓库后，你可以通过以下git命令来把你的博客系统发布GitHub仓库：<br><figure class="highlight dockerfile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">git <span class="keyword">add</span><span class="bash"> . <span class="comment">#把此次更改写入git缓存</span></span></span><br><span class="line"><span class="bash">git commit -m <span class="string">"some changes"</span> <span class="comment">#把此次更改提交到本地库里去</span></span></span><br><span class="line"><span class="bash">git push <span class="comment">#把本地库更改同步到GitHub远程库里去</span></span></span><br><span class="line"><span class="bash">git status <span class="comment">#查看本地git库状态</span></span></span><br></pre></td></tr></table></figure><br>在这个库里你可以找到你写作源文件的所有发布的版本，当然也可以回滚到任意版本中去，相当简单方便。</p><h3 id="图床"><a href="#图床" class="headerlink" title="图床"></a>图床</h3><p>当我们写作的时候，经常需要引用图片到文章里去，如果图片少的话我们可以直接把图片放入每篇文章的目录里面，然后发布到GitHub里去，但是这样会导致GitHub仓库变得越来越大，并且同步会非常慢。所以我们需要一个稳定强大长久的私人图床。一般小型网站的图床都不做考虑。</p><h4 id="新浪微博图床"><a href="#新浪微博图床" class="headerlink" title="新浪微博图床"></a>新浪微博图床</h4><p>这个可以安装一个Chrome插件来实现（微博图床）。<br><img src="https://img.madawei.net/weibotuchuang.png" alt="微博图床"><br>微博图床的优点就是自动给你产生不同尺寸的图片，还贴心的给你Markdown的语法，但是一个问题可能出在新浪微博屏蔽这种外链了，长期会有一些隐患的。</p><h4 id="七牛云存储"><a href="#七牛云存储" class="headerlink" title="七牛云存储"></a>七牛云存储</h4><p>付费的存储空间里面七牛云存储稳定而且不错，免费认证的用户就有10GB存储空间，每月10G下载流量，足够博客用了。当你注册后建立一个新空间后，下载一个qrsync同步工具，可以很方便的把你本地的文件推送到七牛云存储空间里面，具体安装文档你可以看官方的说明文档，我这里贴出来这个工具的配置文档(conf.json)供你参考：<br><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">"src"</span>:<span class="string">"your src dir"</span>,</span><br><span class="line">    <span class="attr">"dest"</span>:<span class="string">"qiniu:access_key=123&amp;secret_key=456&amp;bucket=789"</span>,</span><br><span class="line">    <span class="attr">"debug_level"</span>:  <span class="number">1</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br>在这里把src替换成泥实际目录的绝对路径。dest里面替换access_key、secret_key及bucket。<br>这样每当你在src目录里添加图片后，执行如下命令即可把src目录的文件推送到bucket里面。<br><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">qrsync</span> <span class="selector-tag">conf</span><span class="selector-class">.json</span></span><br></pre></td></tr></table></figure><br>需要注意的是src目录里面不需要建立子目录，因为这个同步工具会忽略子目录，直接把文件全部放到src根目录即可。<br>那怎么访问bucket里面的图片呢？每个存储空间都有一个域名，那任何一张图片访问的形式就是： http://七牛存储域名/xxx.jpg 。那么所有图片都可以这么调用外链。考虑到存储空间有流量的限制，为了防止别人调用你的图片，你可以在存储空间管理里面设置白名单，把你的域名添加进去即可，这样只有你的域名可以访问这个图片等外链了。<br>如果你觉得七牛云存储无法长期存活的话，你可以把本地这个图片文件夹同步到OneDrive网盘里去，你甚至可以把所有的文件都放到OneDrive里面同步上去，这样几个地方互为备份，就可以长久的写下去了。</p><h4 id="优雅的写作环境"><a href="#优雅的写作环境" class="headerlink" title="优雅的写作环境"></a>优雅的写作环境</h4><p>这就是我觉得优雅的写作环境了，任何不懂编程的人也可以这么给自己搞一个长期写作的地方，你只需要花几十块钱买一个域名，剩下的都是免费的。除了环境搭建前期稍微有点复杂外，一旦环境搭建好后剩下的工作就很简单。<br><strong>你拥有了一个非常简单强大的写作环境，流程简单，只需要输入两条命令＋写一个MD文档，不需要麻烦的排版，也不需要麻烦的发布，图片等存储也是非常简单的，只需要一条同步命令即可在MD文档里访问图片地址。然后你就可以在任何地方访问你的博客了，各类文档都有几个地方互为备份（异地灾备），长期下去你写的东西都可以安全的存储、访问和搜索，同时有强大的版本管理，任何时候你都可以回滚到任意版本，不要担心出错。</strong><br><blockquote><p>优雅的写作是为了更自由的表达自己。</p></blockquote></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h3 id=&quot;前言&quot;&gt;&lt;a href=&quot;#前言&quot; class=&quot;headerlink&quot; title=&quot;前言&quot;&gt;&lt;/a&gt;前言&lt;/h3&gt;&lt;p&gt;写作是一件很有趣的事情，长期形成良好的写作习惯可以帮助我们有条理的处理解决问题，同时给人生留下点回忆也不错。在我们很小的时候也许就有记日记的
      
    
    </summary>
    
      <category term="武器库" scheme="http://mdw.one/categories/%E6%AD%A6%E5%99%A8%E5%BA%93/"/>
    
    
      <category term="Hexo" scheme="http://mdw.one/tags/Hexo/"/>
    
      <category term="写作" scheme="http://mdw.one/tags/%E5%86%99%E4%BD%9C/"/>
    
      <category term="Github" scheme="http://mdw.one/tags/Github/"/>
    
  </entry>
  
  <entry>
    <title>打造优雅高效的Mac工作环境</title>
    <link href="http://mdw.one/2016/01/31/20160202/"/>
    <id>http://mdw.one/2016/01/31/20160202/</id>
    <published>2016-01-31T12:10:20.000Z</published>
    <updated>2019-01-02T10:23:38.443Z</updated>
    
    <content type="html"><![CDATA[<h3 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h3><p>对经常需要计算机工作的人来说，打造一个高效优雅的工作环境很有必要，由于我主要工作是做Web开发的，经常需要在键盘和屏幕前工作很长时间，所以本文主要讨论在Mac系统下的工作环境设置，但是文中所涉及的很多软件Windows系统和Linux系统大多也有替代品，非Mac系统工作的同学也可以按照这个思路来借鉴。</p><h3 id="系统篇"><a href="#系统篇" class="headerlink" title="系统篇"></a>系统篇</h3><h4 id="硬件"><a href="#硬件" class="headerlink" title="硬件"></a>硬件</h4><ol><li>MacBook Pro(Retina Display/13’)<br><img src="https://img.madawei.net/mac.png" alt="Mac"></li><li>Dell显示器（UltraSharp U2412M／24’／16:10）<br><img src="https://img.madawei.net/dell.png" alt="Mac"></li><li>HHKB键盘(P2 Type S)<br><img src="https://img.madawei.net/hhkb.jpg" alt="Mac"></li><li>一副不错的耳机</li><li>Kindle<br><img src="https://img.madawei.net/kindle1.jpg" alt="Mac"></li><li>网易云音乐／豆瓣FM／后摇歌单</li><li>一把好椅子</li></ol><hr><h4 id="软件"><a href="#软件" class="headerlink" title="软件"></a>软件</h4><p><img src="https://img.madawei.net/my-mac-app.png" alt="Mac"></p><ol><li><p>F.lux<br>屏幕色温自动调节神器，护眼必备。</p></li><li><p>VPN(发现更大的世界)<br><a href="https://www.ytpub.com/" title="[external]" target="_blank" rel="noopener">云梯</a>是我一直在用的付费VPN，之前为了免费折腾了Google Agent、各路国内外免费VPN、科学翻墙及用自己的VPS搭建OpenVPN等方法，最后发现还是付费比较省事，毕竟自己的时间是最贵的。</p></li><li><p>英语词典</p><blockquote><p>英语不好发现更大的世界也没用，外面的世界都是英文啊！！！</p></blockquote><p>Mac&amp;iOS下最好用的词典莫过于<a href="http://www.eudic.net/eudic/mac_dictionary.aspx" title="[external]" target="_blank" rel="noopener">欧路词典</a>了。Windows和Linux下有同样强大的MDict开源词典软件，不过光有这两个词典软件也没用，必须自己挂载你需要的词典才行，推荐6本牛逼的ESL词典：</p><blockquote><ul><li>Longman Dictionary of Contemporary English</li><li>Oxford Advanced Learner’s Dictionary</li><li>Macmillan English Dictionary for Advanced Learners</li><li>Collins Cobuild Advanced Learner’s English Dictionary</li><li>Cambridge Advanced Learner’s Dictionary</li><li>Merriam-Webster’s Advanced Learner’s English Dictionary</li></ul></blockquote></li><li><p>Alfred 2<br>Mac效率软件里第一神器，无论简单用还是复杂用都能提高你的工作效率，至于用法请Google或者知乎，会有很多文章介绍怎么玩的。</p></li><li><p>Moom &amp; SizeUp<br>用快捷键快速布局同一屏幕下不同的窗口，极大的提高工作效率，多屏都可以快速操作切换。</p></li><li><p>iTerm &amp; zsh<br>iTerm是Mac下一个很好的终端软件；zsh是shell里的神器，谁用谁知道。</p></li><li><p>Bartender &amp; iStat Menus<br>用这两个小工具管理你的状态栏会是不错的选择。</p></li><li><p>CheatSheet &amp; CleanMyMac 3 &amp; TotalFinder<br>CheatSheet是Mac下一个全局的快捷键提示小工具，从此快捷键不需要记了，任何软件里长按Command键即可调出快捷键列表；<br>CleanMyMac 3就是Mac中的清理垃圾软件；<br>TotalFinder把Finder多个窗口变成标签式的；</p></li><li><p>Aria2GUI &amp; Thunder &amp; 115网盘<br>不得不说Aria2GUI是下载里的一大神器，限于篇幅这里不做介绍，感兴趣的朋友可以试试去研究；<br>Thunder的VIP会员下载的确快，配合115网盘私密空间搞一些片看看还是不错的，至于种子怎么找，各种磁力链接搜索网站会帮你找的，多搜索总会有惊喜，尤其是翻墙后。</p></li><li><p>Parallels Desktop<br>用Mac你离不开Windows的，总会有各种各样奇葩的原因被迫让你回到Windows的，Parallels Desktop完美的解决这个问题，是真正完美的解决！融合模式下的Windows软件已经无缝的和Mac环境融为一体了，无论是炒股还是用网银都没有问题。</p></li></ol><h3 id="开发篇"><a href="#开发篇" class="headerlink" title="开发篇"></a>开发篇</h3><p><img src="https://img.madawei.net/develop-tools.jpg" alt="Mac"></p><h4 id="文本编辑器"><a href="#文本编辑器" class="headerlink" title="文本编辑器"></a>文本编辑器</h4><ol><li><p>Emacs &amp; Vim<br>一个是神的编辑器，一个是编辑器之神，我无法评价，Emacs至今不会用，Vim倒是经常用（非常棒！）。</p></li><li><p>Sublime Text 3 &amp; Brackets<br>Web开发两大利器，Sublime Text 3经常用到，他的好不用我多说，倒是Brackets在开发前端程序的时候我发现效率也很高，某些地方如代码自动提示及实时预览这块做的要比ST3更棒，大家可以体验下。</p></li><li><p>Mou &amp; Ulysses<br>Markdown两个很不错的编辑器，这篇文章就是用Mou写出来的，Ulysses整体给人的感觉是更完整，但是也封闭。</p></li></ol><h4 id="IDE"><a href="#IDE" class="headerlink" title="IDE"></a>IDE</h4><ol><li><p>IntelliJ IDEA 14 CE<br>非常好的Java开发IDE！</p></li><li><p>XCode<br>没得选的也非常好的Mac&amp;iOS开发IDE！</p></li><li><p>Android Studio<br>非常好的Android开发IDE，配合Genymotion虚拟机效果更好！</p></li><li><p>phpStorm<br>我个人觉得很不错的PHP开发IDE，尤其是开发一些大型框架的时候这种IDE效率高。</p></li><li><p>WingIDE<br>没怎么用过的一个听说不错的Python开发IDE，界面比较丑。</p></li></ol><h4 id="设计类"><a href="#设计类" class="headerlink" title="设计类"></a>设计类</h4><ol><li><p>Photoshop &amp; Sketch 3 &amp; Axure RP Pro 7<br>Photoshop非常适合处理点阵图像，当然他可以做出很逆天设计，至于有多么逆天，大家可以去<a href="https://www.behance.net/" title="[external]" target="_blank" rel="noopener">Behance</a>围观。<br>Sketch（只有Mac版）非常适合做App和Web Response Design。<br>Axure RP Pro 7在Windows下会是不错的设计软件选择。</p></li><li><p>iThoughtsX &amp; MindNote<br>两个都是不错的思维导图软件。</p></li></ol><h3 id="效率篇"><a href="#效率篇" class="headerlink" title="效率篇"></a>效率篇</h3><ol><li><p>OmniGroup（效率软件神器开发商，就一个字：贵！）<br>OmniFocus：GTD神器，入门难，但是一旦掌握收获也大，至于有多神，可以去豆瓣和知乎搜索相关话题。<br>OmniPlan：Mac下做项目计划管理的神器，多人协作更是简单高效，当然和Tower.im之类的云服务不同，神器更专注项目管理。<br>OmniGraffle：做流程图的神器，堪比Windows下强大的Visio。<br>OmniOutliner：做大纲的神器，可以帮你整理思路。</p></li><li><p>OneNote &amp; Office 2016 &amp; OneDrive<br>OneNote：史上最强笔记本，构建个人知识体系的神器，一旦掌握收获巨大，建议大家去知乎看看相关的讨论。<br>Office 2016：办公神器。很多人一直在用Office，却连它最基本的功能都用不好，Office里面任何一个软件都够你学一整年的了。当然学好后装逼功效也是有加成的。<br>OneDrive：当你不能用Dropbox，国内各种云又不放心的话，老牌微软的云服务还是很靠谱的。</p></li></ol><h3 id="工具篇"><a href="#工具篇" class="headerlink" title="工具篇"></a>工具篇</h3><ol><li><p>Keynote<br>产品经理装逼神器！各类手机厂商产品发布会必备啊！</p></li><li><p>iMovie<br>很好用的视频剪辑及特效制作软件，简单好用，iPhone&amp;iPad都可以剪出不错的片来。当然你要和Adobe的AE和Pr这类神器比的话，当我没说。</p></li><li><p>GarageBand<br>用它可以给你App搞一个MIDI电子乐曲，当然功能很强大，不过Mac下电子乐制作更神的软件时Logic Pro X，价格也感人。</p></li><li><p>Google Chrome<br>最快最稳定的浏览器有木有，JS V8 引擎不是吹出来的。</p></li><li><p>zoom.us<br>多人远程视频会议首选zoom啊，免费稳定速度快。</p></li><li><p>Reeder<br>非常好的RSS订阅软件，虽然RSS已死，但是订阅新闻还是有需求的。</p></li><li><p>Bilibili<br>一秒进入二次元世界，鬼畜区欢迎你！！！</p></li><li><p>Twitter<br>新浪微博真是一个穿衣服包装的好地方，广告云集，还是Twitter简单好用，多关注些人也会让Twitter变成一个非常不错的信息来源地。</p></li></ol><h3 id="The-End"><a href="#The-End" class="headerlink" title="The End"></a>The End</h3><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">alert</span>(<span class="string">'Hello World!'</span>);</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h3 id=&quot;前言&quot;&gt;&lt;a href=&quot;#前言&quot; class=&quot;headerlink&quot; title=&quot;前言&quot;&gt;&lt;/a&gt;前言&lt;/h3&gt;&lt;p&gt;对经常需要计算机工作的人来说，打造一个高效优雅的工作环境很有必要，由于我主要工作是做Web开发的，经常需要在键盘和屏幕前工作很长时间，所以本
      
    
    </summary>
    
      <category term="全栈开发" scheme="http://mdw.one/categories/%E5%85%A8%E6%A0%88%E5%BC%80%E5%8F%91/"/>
    
    
      <category term="Mac" scheme="http://mdw.one/tags/Mac/"/>
    
      <category term="IT开发" scheme="http://mdw.one/tags/IT%E5%BC%80%E5%8F%91/"/>
    
  </entry>
  
</feed>
